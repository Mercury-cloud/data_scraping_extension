"use strict";angular.module("MetronicApp").factory("RemoteDataService",["$window","$q","DataService","$http",function(e,n,t,r){var o=DM.globals.serverURL+"api/v1/jobs/",s="?format=json",a=DM.globals.serverURL;return{getJobs:function(){var t=n.defer();return r.get(o+s).then(function(e){200===e.status?t.resolve(e.data):(console.error(e),t.reject("Something went wrong!!!"))},function(e){403===e.status?t.reject("Login required"):t.reject("Can not contact server: "+e.status+" "+e.statusText)}),t.promise},saveJobs:function(e){var t=n.defer();return void 0===e.id?r.post(o+s,e).then(function(e){201===e.status?t.resolve(e.data):(console.error(e),t.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),t.reject("Can not contact server: "+e.status+" "+e.statusText)}):r.put(o+e.id+"/"+s,e).then(function(e){200===e.status?t.resolve(e.data):(console.error(e),t.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),t.reject("Can not contact server: "+e.status+" "+e.statusText)}),t.promise},deleteJob:function(e){var t=n.defer();return r.delete(o+e+s).then(function(e){204===e.status?t.resolve(e.data):(console.error(e),t.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),t.reject("Can not contact server: "+e.status+" "+e.statusText)}),t.promise},testLogin:function(){var r=n.defer(),o=chrome.extension.getBackgroundPage().dmBackground,e=chrome.runtime.getManifest().version,t="?sr=view&uid="+o.user.uid+"&c="+e;return $.ajax({type:"GET",url:a+"login_test"+t,success:function(e){var t=JSON.parse(e);o.user.user_id=t.user_id,o.user.email=t.email,o.serverData=t,r.resolve(t)},error:function(e){r.reject("Something went wrong!!!")}}),r.promise}}}]);
//# sourceMappingURL=../../../../map/common/js/services/RemoteDataService.js.map